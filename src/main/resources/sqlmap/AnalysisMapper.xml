<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTO Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.eura.web.model.AnalysisMapper">
    <insert id="insertAnalysisData" parameterType="com.eura.web.model.DTO.LiveEmotionVO" useGeneratedKeys="true" keyColumn="idx_analysis" keyProperty="idx_analysis">
        INSERT INTO TB_ANALYSIS (
            IDX_MEETING_USER_JOIN,
            JOY,
            SADNESS,
            DISGUST,
            CONTEMPT,
            ANGER,
            FEAR,
            SURPRISE,
            VALENCE,
            ENGAGEMENT,
            TIMESTAMP,
            FILENAME,
            SMILE,
            INNERBROWRAISE,
            BROWRAISE,
            BROWFURROW,
            NOSEWRINKLE,
            UPPERLIPRAISE,
            LIPCORNERDEPRESSOR,
            CHINRAISE,
            LIPPUCKER,
            LIPPRESS,
            LIPSUCK,
            MOUTHOPEN,
            SMIRK,
            EYECLOSURE,
            ATTENTION,
            LIDTIGHTEN,
            JAWDROP,
            DIMPLER,
            EYEWIDEN,
            CHEEKRAISE,
            LIPSTRETCH
        ) VALUES (
            (
                SELECT IDX_MEETING_USER_JOIN
                FROM TB_MEETING_USER_JOIN
                WHERE TOKEN = #{token}
                  AND SESSIONID = #{mcid}
            ),
            #{joy},
            #{sadness},
            #{disgust},
            #{contempt},
            #{anger},
            #{fear},
            #{surprise},
            #{valence},
            #{engagement},
            #{time_stamp},
            #{FileName},
            #{smile},
            #{innerBrowRaise},
            #{browRaise},
            #{browFurrow},
            #{noseWrinkle},
            #{upperLipRaise},
            #{lipCornerDepressor},
            #{chinRaise},
            #{lipPucker},
            #{lipPress},
            #{lipSuck},
            #{mouthOpen},
            #{smirk},
            #{eyeClosure},
            #{attention},
            #{lidTighten},
            #{jawDrop},
            #{dimpler},
            #{eyeWiden},
            #{cheekRaise},
            #{lipStretch}
        )
    </insert>
</mapper>